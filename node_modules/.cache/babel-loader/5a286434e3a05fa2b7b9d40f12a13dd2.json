{"ast":null,"code":"import _regeneratorRuntime from\"/Users/timcher/Documents/GitHub/goit-react-hw-08-phonebook/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/timcher/Documents/GitHub/goit-react-hw-08-phonebook/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from\"axios\";import{setError,resetError}from\"../action/errorAction\";import{loaderOn,loaderOff}from\"../action/loaderAction\";import{setContactLocalStorage,addConct,deleteContact,setContact}from\"../action/contactAction\";import{resetToken,setToken}from\"../action/tokenAction\";var options=function options(token){return{header:{Authorization:\"Bearer \".concat(token)}};};export var getContactsOperation=function getContactsOperation(token){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;dispatch(loaderOn());_context.next=4;return axios.get(\"https://goit-phonebook-api.herokuapp.com/contacts\",options(token));case 4:result=_context.sent;console.log(result);dispatch(setContact(result.data));_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);dispatch(setError(\"Оууууу, щось сталось =D\"));case 12:_context.prev=12;dispatch(loaderOff());return _context.finish(12);case 15:case\"end\":return _context.stop();}}},_callee,null,[[0,9,12,15]]);}));return function(_x){return _ref.apply(this,arguments);};}();};export var postContactsOperations=function postContactsOperations(contact,token){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var result;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;dispatch(loaderOn());_context2.next=4;return axios.post(\"https://goit-phonebook-api.herokuapp.com/contacts\",contact,options(token));case 4:result=_context2.sent;dispatch(setContact(result.data));_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](0);dispatch(setError(\"Оууууу, щось сталось =D\"));case 11:_context2.prev=11;dispatch(loaderOff());return _context2.finish(11);case 14:case\"end\":return _context2.stop();}}},_callee2,null,[[0,8,11,14]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();};export var deleteContactOperation=function deleteContactOperation(contactId,token){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return axios.delete(\"https://goit-phonebook-api.herokuapp.com/contacts/\".concat(contactId),options(token));case 3:dispatch(deleteContact(contactId));_context3.next=9;break;case 6:_context3.prev=6;_context3.t0=_context3[\"catch\"](0);dispatch(setError(\"Оууууу, щось сталось =D\"));case 9:_context3.prev=9;dispatch(loaderOff());return _context3.finish(9);case 12:case\"end\":return _context3.stop();}}},_callee3,null,[[0,6,9,12]]);}));return function(_x3){return _ref3.apply(this,arguments);};}();};","map":{"version":3,"sources":["/Users/timcher/Documents/GitHub/goit-react-hw-08-phonebook/src/redux/operations/taskOperations.js"],"names":["axios","setError","resetError","loaderOn","loaderOff","setContactLocalStorage","addConct","deleteContact","setContact","resetToken","setToken","options","token","header","Authorization","getContactsOperation","dispatch","get","result","console","log","data","postContactsOperations","contact","post","deleteContactOperation","contactId","delete"],"mappings":"uRAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,CAAmBC,UAAnB,KAAqC,uBAArC,CACA,OAASC,QAAT,CAAmBC,SAAnB,KAAoC,wBAApC,CACA,OACEC,sBADF,CAEEC,QAFF,CAGEC,aAHF,CAIEC,UAJF,KAKO,yBALP,CAMA,OAASC,UAAT,CAAqBC,QAArB,KAAqC,uBAArC,CAEA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACC,KAAD,QAAa,CAC3BC,MAAM,CAAE,CACNC,aAAa,kBAAYF,KAAZ,CADP,CADmB,CAAb,EAAhB,CAMA,MAAO,IAAMG,CAAAA,oBAAoB,CAAG,QAAvBA,CAAAA,oBAAuB,CAACH,KAAD,iGAAW,iBAAOI,QAAP,6IAE3CA,QAAQ,CAACb,QAAQ,EAAT,CAAR,CAF2C,sBAGtBH,CAAAA,KAAK,CAACiB,GAAN,qDACkCN,OAAO,CAACC,KAAD,CADzC,CAHsB,QAGrCM,MAHqC,eAM3CC,OAAO,CAACC,GAAR,CAAYF,MAAZ,EACAF,QAAQ,CAACR,UAAU,CAACU,MAAM,CAACG,IAAR,CAAX,CAAR,CAP2C,+EAS3CL,QAAQ,CAACf,QAAQ,CAAC,yBAAD,CAAT,CAAR,CAT2C,yBAW3Ce,QAAQ,CAACZ,SAAS,EAAV,CAAR,CAX2C,qGAAX,gEAA7B,CAeP,MAAO,IAAMkB,CAAAA,sBAAsB,CAAG,QAAzBA,CAAAA,sBAAyB,CAACC,OAAD,CAAUX,KAAV,kGAAoB,kBAAOI,QAAP,kJAEtDA,QAAQ,CAACb,QAAQ,EAAT,CAAR,CAFsD,uBAGjCH,CAAAA,KAAK,CAACwB,IAAN,qDAEnBD,OAFmB,CAEVZ,OAAO,CAACC,KAAD,CAFG,CAHiC,QAGhDM,MAHgD,gBAOtDF,QAAQ,CAACR,UAAU,CAACU,MAAM,CAACG,IAAR,CAAX,CAAR,CAPsD,mFAStDL,QAAQ,CAACf,QAAQ,CAAC,yBAAD,CAAT,CAAR,CATsD,0BAWtDe,QAAQ,CAACZ,SAAS,EAAV,CAAR,CAXsD,wGAApB,kEAA/B,CAeP,MAAO,IAAMqB,CAAAA,sBAAsB,CAAG,QAAzBA,CAAAA,sBAAyB,CAACC,SAAD,CAAYd,KAAZ,kGAAuB,kBAAOI,QAAP,8JAEnDhB,CAAAA,KAAK,CAAC2B,MAAN,6DACiDD,SADjD,EAC8Df,OAAO,CAACC,KAAD,CADrE,CAFmD,QAKzDI,QAAQ,CAACT,aAAa,CAACmB,SAAD,CAAd,CAAR,CALyD,kFAOzDV,QAAQ,CAACf,QAAQ,CAAC,yBAAD,CAAT,CAAR,CAPyD,wBASzDe,QAAQ,CAACZ,SAAS,EAAV,CAAR,CATyD,sGAAvB,kEAA/B","sourcesContent":["import axios from \"axios\";\nimport { setError, resetError } from \"../action/errorAction\";\nimport { loaderOn, loaderOff } from \"../action/loaderAction\";\nimport {\n  setContactLocalStorage,\n  addConct,\n  deleteContact,\n  setContact,\n} from \"../action/contactAction\";\nimport { resetToken, setToken } from \"../action/tokenAction\";\n\nconst options = (token) =>  ({\n  header: {\n    Authorization: `Bearer ${token}`,\n  },\n});\n\nexport const getContactsOperation = (token) => async (dispatch) => {\n  try {\n    dispatch(loaderOn());\n    const result = await axios.get(\n      `https://goit-phonebook-api.herokuapp.com/contacts`, options(token)\n    );\n    console.log(result);\n    dispatch(setContact(result.data));\n  } catch (error) {\n    dispatch(setError(\"Оууууу, щось сталось =D\"));\n  } finally {\n    dispatch(loaderOff());\n  }\n};\n\nexport const postContactsOperations = (contact, token) => async (dispatch) => {\n  try {\n    dispatch(loaderOn());\n    const result = await axios.post(\n      `https://goit-phonebook-api.herokuapp.com/contacts`,\n      contact, options(token)\n    );\n    dispatch(setContact(result.data));\n  } catch (error) {\n    dispatch(setError(\"Оууууу, щось сталось =D\"));\n  } finally {\n    dispatch(loaderOff());\n  }\n};\n\nexport const deleteContactOperation = (contactId, token ) => async (dispatch) => {\n  try {\n    await axios.delete(\n      `https://goit-phonebook-api.herokuapp.com/contacts/${contactId}`, options(token)\n    );\n    dispatch(deleteContact(contactId));\n  } catch (error) {\n    dispatch(setError(\"Оууууу, щось сталось =D\"));\n  } finally {\n    dispatch(loaderOff());\n  }\n};\n"]},"metadata":{},"sourceType":"module"}
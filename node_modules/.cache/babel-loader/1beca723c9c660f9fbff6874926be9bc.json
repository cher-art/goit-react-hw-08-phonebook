{"ast":null,"code":"import _regeneratorRuntime from\"/Users/timcher/Documents/GitHub/goit-react-hw-08-phonebook/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/timcher/Documents/GitHub/goit-react-hw-08-phonebook/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from\"axios\";import{setError,resetError}from\"../action/errorAction\";import{loaderOn,loaderOff}from\"../action/loaderAction\";import{setContactLocalStorage,addConct,deleteContact,setContact}from\"../action/contactAction\";import{resetToken,setToken}from\"../action/tokenAction\";var options=function options(token){return{headers:{Authorization:\"Bearer \".concat(token)}};};export var getContactsOperation=function getContactsOperation(token){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;dispatch(loaderOn());_context.next=4;return axios.get(\"https://goit-phonebook-api.herokuapp.com/contacts\",options(token));case 4:result=_context.sent;dispatch(setContact(result.data));_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);dispatch(setError(\"Оууууу, щось сталось =D\"));case 11:_context.prev=11;dispatch(loaderOff());return _context.finish(11);case 14:case\"end\":return _context.stop();}}},_callee,null,[[0,8,11,14]]);}));return function(_x){return _ref.apply(this,arguments);};}();};export var postContactsOperations=function postContactsOperations(contact,token){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var result;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;dispatch(loaderOn());_context2.next=4;return axios.post(\"https://goit-phonebook-api.herokuapp.com/contacts\",contact,options(token));case 4:result=_context2.sent;_context2.next=10;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);dispatch(setError(\"Оууууу, щось сталось =D\"));case 10:_context2.prev=10;dispatch(loaderOff());return _context2.finish(10);case 13:case\"end\":return _context2.stop();}}},_callee2,null,[[0,7,10,13]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();};export var deleteContactOperation=function deleteContactOperation(ContactId,token){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return axios.delete(\"https://goit-phonebook-api.herokuapp.com/contacts/\".concat(ContactId),options(token));case 3:dispatch(deleteContact(ContactId));_context3.next=9;break;case 6:_context3.prev=6;_context3.t0=_context3[\"catch\"](0);dispatch(setError(\"Оууууу, щось сталось =D\"));case 9:_context3.prev=9;dispatch(loaderOff());return _context3.finish(9);case 12:case\"end\":return _context3.stop();}}},_callee3,null,[[0,6,9,12]]);}));return function(_x3){return _ref3.apply(this,arguments);};}();};","map":{"version":3,"sources":["/Users/timcher/Documents/GitHub/goit-react-hw-08-phonebook/src/redux/operations/taskOperations.js"],"names":["axios","setError","resetError","loaderOn","loaderOff","setContactLocalStorage","addConct","deleteContact","setContact","resetToken","setToken","options","token","headers","Authorization","getContactsOperation","dispatch","get","result","data","postContactsOperations","contact","post","deleteContactOperation","ContactId","delete"],"mappings":"uRAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,CAAmBC,UAAnB,KAAqC,uBAArC,CACA,OAASC,QAAT,CAAmBC,SAAnB,KAAoC,wBAApC,CACA,OACEC,sBADF,CAEEC,QAFF,CAGEC,aAHF,CAIEC,UAJF,KAKO,yBALP,CAMA,OAASC,UAAT,CAAqBC,QAArB,KAAqC,uBAArC,CAEA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACC,KAAD,QAAY,CAC1BC,OAAO,CAAE,CACPC,aAAa,kBAAYF,KAAZ,CADN,CADiB,CAAZ,EAAhB,CAOA,MAAO,IAAMG,CAAAA,oBAAoB,CAAG,QAAvBA,CAAAA,oBAAuB,CAACH,KAAD,iGAAW,iBAAOI,QAAP,6IAE3CA,QAAQ,CAACb,QAAQ,EAAT,CAAR,CAF2C,sBAGtBH,CAAAA,KAAK,CAACiB,GAAN,qDAEnBN,OAAO,CAACC,KAAD,CAFY,CAHsB,QAGrCM,MAHqC,eAO3CF,QAAQ,CAACR,UAAU,CAACU,MAAM,CAACC,IAAR,CAAX,CAAR,CAP2C,+EAS3CH,QAAQ,CAACf,QAAQ,CAAC,yBAAD,CAAT,CAAR,CAT2C,yBAW3Ce,QAAQ,CAACZ,SAAS,EAAV,CAAR,CAX2C,qGAAX,gEAA7B,CAeP,MAAO,IAAMgB,CAAAA,sBAAsB,CAAG,QAAzBA,CAAAA,sBAAyB,CAACC,OAAD,CAAUT,KAAV,kGAAoB,kBAAOI,QAAP,kJAEtDA,QAAQ,CAACb,QAAQ,EAAT,CAAR,CAFsD,uBAGjCH,CAAAA,KAAK,CAACsB,IAAN,qDAEnBD,OAFmB,CAGnBV,OAAO,CAACC,KAAD,CAHY,CAHiC,QAGhDM,MAHgD,mGAStDF,QAAQ,CAACf,QAAQ,CAAC,yBAAD,CAAT,CAAR,CATsD,0BAWtDe,QAAQ,CAACZ,SAAS,EAAV,CAAR,CAXsD,wGAApB,kEAA/B,CAeP,MAAO,IAAMmB,CAAAA,sBAAsB,CAAG,QAAzBA,CAAAA,sBAAyB,CAACC,SAAD,CAAYZ,KAAZ,kGAAsB,kBAC1DI,QAD0D,8JAIlDhB,CAAAA,KAAK,CAACyB,MAAN,6DACiDD,SADjD,EAEJb,OAAO,CAACC,KAAD,CAFH,CAJkD,QAQxDI,QAAQ,CAACT,aAAa,CAACiB,SAAD,CAAd,CAAR,CARwD,kFAUxDR,QAAQ,CAACf,QAAQ,CAAC,yBAAD,CAAT,CAAR,CAVwD,wBAYxDe,QAAQ,CAACZ,SAAS,EAAV,CAAR,CAZwD,sGAAtB,kEAA/B","sourcesContent":["import axios from \"axios\";\nimport { setError, resetError } from \"../action/errorAction\";\nimport { loaderOn, loaderOff } from \"../action/loaderAction\";\nimport {\n  setContactLocalStorage,\n  addConct,\n  deleteContact,\n  setContact,\n} from \"../action/contactAction\";\nimport { resetToken, setToken } from \"../action/tokenAction\";\n\nconst options = (token) => ({\n  headers: {\n    Authorization: `Bearer ${token}`,\n  },\n\n});\n\nexport const getContactsOperation = (token) => async (dispatch) => {\n  try {\n    dispatch(loaderOn());\n    const result = await axios.get(\n      `https://goit-phonebook-api.herokuapp.com/contacts`,\n      options(token)\n    );\n    dispatch(setContact(result.data));\n  } catch (error) {\n    dispatch(setError(\"Оууууу, щось сталось =D\"));\n  } finally {\n    dispatch(loaderOff());\n  }\n};\n\nexport const postContactsOperations = (contact, token) => async (dispatch) => {\n  try {\n    dispatch(loaderOn());\n    const result = await axios.post(\n      `https://goit-phonebook-api.herokuapp.com/contacts`,\n      contact,\n      options(token)\n    );\n  } catch (error) {\n    dispatch(setError(\"Оууууу, щось сталось =D\"));\n  } finally {\n    dispatch(loaderOff());\n  }\n};\n\nexport const deleteContactOperation = (ContactId, token) => async (\n  dispatch\n) => {\n  try {\n    await axios.delete(\n      `https://goit-phonebook-api.herokuapp.com/contacts/${ContactId}`,\n      options(token)\n    );\n    dispatch(deleteContact(ContactId));\n  } catch (error) {\n    dispatch(setError(\"Оууууу, щось сталось =D\"));\n  } finally {\n    dispatch(loaderOff());\n  }\n};\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import axios from \"axios\";\nimport { setError, resetError } from \"../action/errorAction\";\nimport { loaderOn, loaderOff } from \"../action/loaderAction\";\nimport { setContactLocalStorage, addConct, deleteContact, setContact } from \"../action/contactAction\";\nimport { resetToken, setToken } from \"../action/tokenAction\";\n\nconst options = token => ({\n  header: {\n    Authorization: `Bearer ${token}`\n  }\n});\n\nexport const getContactsOperation = token => async dispatch => {\n  try {\n    dispatch(loaderOn());\n    const result = await axios.get(`https://goit-phonebook-api.herokuapp.com/contacts`, options(token));\n    dispatch(setContact(result.data));\n  } catch (error) {\n    dispatch(setError(\"Оууууу, щось сталось =D\"));\n  } finally {\n    dispatch(loaderOff());\n  }\n};\nexport const postContactsOperations = (contact, token) => async dispatch => {\n  try {\n    dispatch(loaderOn());\n    const result = await axios.post(`https://goit-phonebook-api.herokuapp.com/contacts`, contact, options(token));\n    dispatch(setContact(result.data));\n  } catch (error) {\n    dispatch(setError(\"Оууууу, щось сталось =D\"));\n  } finally {\n    dispatch(loaderOff());\n  }\n};\nexport const deleteContactOperation = (contactId, token) => async dispatch => {\n  try {\n    await axios.delete(`https://goit-phonebook-api.herokuapp.com/contacts/${contactId}`, options(token));\n    dispatch(deleteContact(contactId));\n  } catch (error) {\n    dispatch(setError(\"Оууууу, щось сталось =D\"));\n  } finally {\n    dispatch(loaderOff());\n  }\n};","map":{"version":3,"sources":["/Users/timcher/Documents/GitHub/goit-react-hw-08-phonebook/src/redux/operations/taskOperations.js"],"names":["axios","setError","resetError","loaderOn","loaderOff","setContactLocalStorage","addConct","deleteContact","setContact","resetToken","setToken","options","token","header","Authorization","getContactsOperation","dispatch","result","get","data","error","postContactsOperations","contact","post","deleteContactOperation","contactId","delete"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,EAAmBC,UAAnB,QAAqC,uBAArC;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,wBAApC;AACA,SACEC,sBADF,EAEEC,QAFF,EAGEC,aAHF,EAIEC,UAJF,QAKO,yBALP;AAMA,SAASC,UAAT,EAAqBC,QAArB,QAAqC,uBAArC;;AAEA,MAAMC,OAAO,GAAIC,KAAD,KAAa;AAC3BC,EAAAA,MAAM,EAAE;AACNC,IAAAA,aAAa,EAAG,UAASF,KAAM;AADzB;AADmB,CAAb,CAAhB;;AAMA,OAAO,MAAMG,oBAAoB,GAAIH,KAAD,IAAW,MAAOI,QAAP,IAAoB;AACjE,MAAI;AACFA,IAAAA,QAAQ,CAACb,QAAQ,EAAT,CAAR;AACA,UAAMc,MAAM,GAAG,MAAMjB,KAAK,CAACkB,GAAN,CAClB,mDADkB,EACkCP,OAAO,CAACC,KAAD,CADzC,CAArB;AAGAI,IAAAA,QAAQ,CAACR,UAAU,CAACS,MAAM,CAACE,IAAR,CAAX,CAAR;AACD,GAND,CAME,OAAOC,KAAP,EAAc;AACdJ,IAAAA,QAAQ,CAACf,QAAQ,CAAC,yBAAD,CAAT,CAAR;AACD,GARD,SAQU;AACRe,IAAAA,QAAQ,CAACZ,SAAS,EAAV,CAAR;AACD;AACF,CAZM;AAcP,OAAO,MAAMiB,sBAAsB,GAAG,CAACC,OAAD,EAAUV,KAAV,KAAoB,MAAOI,QAAP,IAAoB;AAC5E,MAAI;AACFA,IAAAA,QAAQ,CAACb,QAAQ,EAAT,CAAR;AACA,UAAMc,MAAM,GAAG,MAAMjB,KAAK,CAACuB,IAAN,CAClB,mDADkB,EAEnBD,OAFmB,EAEVX,OAAO,CAACC,KAAD,CAFG,CAArB;AAIAI,IAAAA,QAAQ,CAACR,UAAU,CAACS,MAAM,CAACE,IAAR,CAAX,CAAR;AACD,GAPD,CAOE,OAAOC,KAAP,EAAc;AACdJ,IAAAA,QAAQ,CAACf,QAAQ,CAAC,yBAAD,CAAT,CAAR;AACD,GATD,SASU;AACRe,IAAAA,QAAQ,CAACZ,SAAS,EAAV,CAAR;AACD;AACF,CAbM;AAeP,OAAO,MAAMoB,sBAAsB,GAAG,CAACC,SAAD,EAAYb,KAAZ,KAAuB,MAAOI,QAAP,IAAoB;AAC/E,MAAI;AACF,UAAMhB,KAAK,CAAC0B,MAAN,CACH,qDAAoDD,SAAU,EAD3D,EAC8Dd,OAAO,CAACC,KAAD,CADrE,CAAN;AAGAI,IAAAA,QAAQ,CAACT,aAAa,CAACkB,SAAD,CAAd,CAAR;AACD,GALD,CAKE,OAAOL,KAAP,EAAc;AACdJ,IAAAA,QAAQ,CAACf,QAAQ,CAAC,yBAAD,CAAT,CAAR;AACD,GAPD,SAOU;AACRe,IAAAA,QAAQ,CAACZ,SAAS,EAAV,CAAR;AACD;AACF,CAXM","sourcesContent":["import axios from \"axios\";\nimport { setError, resetError } from \"../action/errorAction\";\nimport { loaderOn, loaderOff } from \"../action/loaderAction\";\nimport {\n  setContactLocalStorage,\n  addConct,\n  deleteContact,\n  setContact,\n} from \"../action/contactAction\";\nimport { resetToken, setToken } from \"../action/tokenAction\";\n\nconst options = (token) =>  ({\n  header: {\n    Authorization: `Bearer ${token}`,\n  },\n});\n\nexport const getContactsOperation = (token) => async (dispatch) => {\n  try {\n    dispatch(loaderOn());\n    const result = await axios.get(\n      `https://goit-phonebook-api.herokuapp.com/contacts`, options(token)\n    );\n    dispatch(setContact(result.data));\n  } catch (error) {\n    dispatch(setError(\"Оууууу, щось сталось =D\"));\n  } finally {\n    dispatch(loaderOff());\n  }\n};\n\nexport const postContactsOperations = (contact, token) => async (dispatch) => {\n  try {\n    dispatch(loaderOn());\n    const result = await axios.post(\n      `https://goit-phonebook-api.herokuapp.com/contacts`,\n      contact, options(token)\n    );\n    dispatch(setContact(result.data));\n  } catch (error) {\n    dispatch(setError(\"Оууууу, щось сталось =D\"));\n  } finally {\n    dispatch(loaderOff());\n  }\n};\n\nexport const deleteContactOperation = (contactId, token ) => async (dispatch) => {\n  try {\n    await axios.delete(\n      `https://goit-phonebook-api.herokuapp.com/contacts/${contactId}`, options(token)\n    );\n    dispatch(deleteContact(contactId));\n  } catch (error) {\n    dispatch(setError(\"Оууууу, щось сталось =D\"));\n  } finally {\n    dispatch(loaderOff());\n  }\n};\n"]},"metadata":{},"sourceType":"module"}
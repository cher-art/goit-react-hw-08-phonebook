(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[0],{19:function(e,t,n){e.exports={mainHeader:"Header_mainHeader__1kt8t",mainNav:"Header_mainNav__3k66-",singIn:"Header_singIn__3VH76",home:"Header_home__11m1C",login:"Header_login__2Bvwa",registration:"Header_registration__3HT7t",logoutButton:"Header_logoutButton__11qXn"}},20:function(e,t,n){e.exports={contactForm:"Form_contactForm__2bm6X",mainLabel:"Form_mainLabel__zNmmp",mainInput:"Form_mainInput__2j580",formBtn:"Form_formBtn__2LnlG"}},35:function(e,t,n){e.exports={contactList:"ContactList_contactList__3vTYv",contactListErr:"ContactList_contactListErr__2J27E",contactBtn:"ContactList_contactBtn__2CPHz"}},36:function(e,t,n){e.exports={title:"Login_title__2Lkbe",loginForm:"Login_loginForm__-bXJI"}},37:function(e,t,n){e.exports={title:"Registration_title__3OsdX",registrationForm:"Registration_registrationForm__2FXEI"}},49:function(e,t,n){e.exports={mainInput:"Filter_mainInput__2srJO"}},85:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){},88:function(e,t,n){},91:function(e,t,n){},92:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(0),r=n(16),o=n.n(r),s=n(3),i=n(4),u="/ ",l="/login",p="/registration",j=n(13),b=n(9),m=n.n(b),h=n(18),d=n(15),f=n.n(d),O="loader/on",x="loader/off",v="contact/set",g=function(e){return{type:"error/set",payload:e}},_=function(){return{type:O}},k=function(){return{type:x}},y="token/set",N="token/reset",w=function(e){return{type:y,payload:e}};f()({url:"",method:"post",header:{"Content-type":"application/json"}});var B=n(19),L=n.n(B),C=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.token})),n=Object(i.g)();return Object(c.useEffect)((function(){t?n.push(u):n.push(l)}),[t]),Object(a.jsx)("header",{className:L.a.mainHeader,children:Object(a.jsxs)("nav",{className:L.a.mainNav,children:[Object(a.jsx)(j.b,{className:L.a.home,to:u,children:"MyContacts"}),t&&Object(a.jsx)("button",{onClick:function(){e(function(e){return function(){var t=Object(h.a)(m.a.mark((function t(n){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(_()),t.next=4,f()({url:"https://goit-phonebook-api.herokuapp.com/users/logout",method:"post",headers:{Authorization:"Bearer ".concat(e)}});case 4:t.sent,n({type:N}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n(g(t.t0));case 11:return t.prev=11,n(k()),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,8,11,14]])})));return function(e){return t.apply(this,arguments)}}()}(t))},className:L.a.logoutButton,children:"LOGOUT"}),Object(a.jsxs)("div",{className:L.a.singIn,children:[Object(a.jsx)(j.b,{className:L.a.registration,to:l,children:"Login"}),Object(a.jsx)(j.b,{className:L.a.login,to:p,children:"Registartion"})]})]})})},F=n(8),I=n(95),E=n(93),H="phoneBook/add",D="phoneBook/delete",S="phoneBook/setLocalStorage",A="filter/edit",T="alert/on",R="alert/off",J=function(e){return{headers:{Authorization:"Bearer ".concat(e)}}},X=n(17),z=n(21),q=n(20),P=n.n(q),G={name:"",number:""},M=function(){var e=Object(c.useState)(G),t=Object(z.a)(e,2),n=t[0],r=t[1],o=n.name,i=n.number,u=Object(s.c)((function(e){return e.contacts})),l=Object(s.c)((function(e){return e.token})),p=Object(s.b)(),j=function(e){var t=e.target;r(Object(F.a)(Object(F.a)({},n),{},Object(X.a)({},t.name,t.value)))};return Object(a.jsxs)("form",{className:P.a.contactForm,onSubmit:function(e){if(e.preventDefault(),o&&i){var t={name:o,number:i};u.some((function(e){return e.name===t.name}))?p({type:T}):(p(function(e,t){return function(){var n=Object(h.a)(m.a.mark((function n(a){return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a(_()),n.next=4,f.a.post("https://goit-phonebook-api.herokuapp.com/contacts",e,J(t));case 4:n.sent,n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),a(g("\u041e\u0443\u0443\u0443\u0443\u0443, \u0449\u043e\u0441\u044c \u0441\u0442\u0430\u043b\u043e\u0441\u044c =D"));case 10:return n.prev=10,a(k()),n.finish(10);case 13:case"end":return n.stop()}}),n,null,[[0,7,10,13]])})));return function(e){return n.apply(this,arguments)}}()}(t,l)),p({type:H,payload:t}),r(G))}},children:[Object(a.jsxs)("label",{className:P.a.mainLabel,children:["Name",Object(a.jsx)("input",{className:P.a.mainInput,onChange:j,name:"name",value:o})]}),Object(a.jsxs)("label",{className:P.a.mainLabel,children:["Number",Object(a.jsx)("input",{className:P.a.mainInput,onChange:j,name:"number",value:i})]}),Object(a.jsx)("button",{className:P.a.formBtn,type:"submit",children:"Add contact"})]})},U=n(35),V=n.n(U),W=(n(85),function(e){var t=e.name,n=e.number,c=e.id,r=Object(s.c)((function(e){return e.token})),o=Object(s.b)();return Object(a.jsxs)("li",{className:V.a.contactList,children:[t,": ",n,Object(a.jsx)("button",{className:V.a.contactBtn,onClick:function(){o(function(e,t){return function(){var n=Object(h.a)(m.a.mark((function n(a){return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,f.a.delete("https://goit-phonebook-api.herokuapp.com/contacts/".concat(e),J(t));case 3:a({type:D,payload:e}),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),a(g("\u041e\u0443\u0443\u0443\u0443\u0443, \u0449\u043e\u0441\u044c \u0441\u0442\u0430\u043b\u043e\u0441\u044c =D"));case 9:return n.prev=9,a(k()),n.finish(9);case 12:case"end":return n.stop()}}),n,null,[[0,6,9,12]])})));return function(e){return n.apply(this,arguments)}}()}(c,r))},type:"button",children:"Delete"})]},c)}),Y=n(54),K=Object(Y.a)("filter/edit"),Q=n(49),Z=n.n(Q),$=(n(86),function(){var e=Object(s.c)((function(e){return e.filter})),t=Object(s.b)();return Object(a.jsx)("label",{children:Object(a.jsx)("input",{className:Z.a.mainInput,name:"filter",type:"text",onChange:function(e){e.preventDefault();var n=e.target.value;t(K(n))},value:e})})}),ee=(n(87),function(){var e=Object(s.c)((function(e){return e.contacts})),t=(Object(s.c)((function(e){return e.filter})),Object(s.c)((function(e){return e.isAlert}))),n=Object(s.c)((function(e){return e.token})),r=Object(s.b)();console.log(e),Object(c.useEffect)((function(){r(function(e){return function(){var t=Object(h.a)(m.a.mark((function t(n){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(_()),t.next=4,f.a.get("https://goit-phonebook-api.herokuapp.com/contacts",J(e));case 4:a=t.sent,n((c=a.data,{type:v,payload:c})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n(g("\u041e\u0443\u0443\u0443\u0443\u0443, \u0449\u043e\u0441\u044c \u0441\u0442\u0430\u043b\u043e\u0441\u044c =D"));case 11:return t.prev=11,n(k()),t.finish(11);case 14:case"end":return t.stop()}var c}),t,null,[[0,8,11,14]])})));return function(e){return t.apply(this,arguments)}}()}(n))}),[r]);return Object(a.jsxs)("div",{className:"phoneBook",children:[Object(a.jsx)(I.a,{className:"alertBox",component:"div",children:t?Object(a.jsx)(E.a,{classNames:"alert__Box",mountOnEnter:!0,unmountOnExit:!0,timeout:800,children:Object(a.jsxs)("div",{className:"alert__Box",children:[Object(a.jsx)("h2",{children:"A contact with the same name already exists!"}),Object(a.jsx)("button",{onClick:function(){r({type:R})},className:"alertButton",children:"ok"})]})}):null}),Object(a.jsx)(E.a,{in:!0,appear:!0,timeout:500,classNames:"logo",unmountOnExit:!0,children:Object(a.jsx)("h1",{className:"title",children:"PhoneBook"})}),Object(a.jsx)(E.a,{in:!0,appear:!0,timeout:500,classNames:"form",unmountOnExit:!0,children:Object(a.jsx)(M,{})}),Object(a.jsx)(E.a,{timeout:250,classNames:"contactTitle",unmountOnExit:!0,children:Object(a.jsx)("h2",{className:"findTitle",children:"Find contacts"})}),Object(a.jsx)(E.a,{timeout:250,classNames:"contactTitle",unmountOnExit:!0,children:Object(a.jsx)($,{})}),Object(a.jsx)(I.a,{component:"ul",className:"list",children:e.length>=1&&e.map((function(e){return Object(a.jsx)(E.a,{classNames:"list__item",timeout:800,children:Object(a.jsx)(W,Object(F.a)({},e))})}))})]})}),te=function(){return Object(a.jsx)("div",{children:Object(a.jsx)(ee,{})})},ne=n(36),ae=n.n(ne),ce={email:"",password:""},re=function(){var e=Object(c.useState)(ce),t=Object(z.a)(e,2),n=t[0],r=t[1],o=Object(s.b)(),i=function(e){var t=e.target,n=t.name,a=t.value;r((function(e){return Object(F.a)(Object(F.a)({},e),{},Object(X.a)({},n,a))}))};return Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{className:ae.a.title,children:"Login"}),Object(a.jsxs)("form",{className:ae.a.loginForm,onSubmit:function(e){var t;e.preventDefault(),o((t=n,function(){var e=Object(h.a)(m.a.mark((function e(n){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(_()),e.next=4,f.a.post("https://goit-phonebook-api.herokuapp.com/users/login",t);case 4:a=e.sent,n(w(a.data.token)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),n(g("bad request!"));case 11:return e.prev=11,n(k()),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(a.jsx)("input",{onChange:i,type:"email",name:"email",placeholder:"email"}),Object(a.jsx)("input",{onChange:i,type:"password",name:"password",placeholder:"password"}),Object(a.jsx)("button",{type:"submit",children:"Login"}),Object(a.jsxs)("p",{children:["If you already have an account please"," ",Object(a.jsx)(j.b,{to:p,children:"Registered"})]})]})]})},oe=n(37),se=n.n(oe),ie={name:"",email:"",password:""},ue=function(){var e=Object(c.useState)(ie),t=Object(z.a)(e,2),n=t[0],r=t[1],o=Object(s.b)(),i=function(e){var t=e.target,n=t.name,a=t.value;r((function(e){return Object(F.a)(Object(F.a)({},e),{},Object(X.a)({},n,a))}))};return Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{className:se.a.title,children:"Registration"}),Object(a.jsxs)("form",{className:se.a.registrationForm,onSubmit:function(e){var t;e.preventDefault(),o((t=n,function(){var e=Object(h.a)(m.a.mark((function e(n){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(_()),e.next=4,f.a.post("https://goit-phonebook-api.herokuapp.com/users/signup",t);case 4:a=e.sent,console.log(a),n(w(a.data.token)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),n(g("bad request!"));case 12:return e.prev=12,n(k()),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(a.jsx)("input",{onChange:i,type:"text",name:"name",placeholder:"username",value:n.name}),Object(a.jsx)("input",{onChange:i,type:"text",name:"email",placeholder:"email",value:n.email}),Object(a.jsx)("input",{onChange:i,type:"password",name:"password",placeholder:"password",value:n.password}),Object(a.jsx)("button",{type:"submit",children:"Sing UP"}),Object(a.jsxs)("p",{children:["If you already have an account please",Object(a.jsx)(j.b,{to:l,children:"login"})]})]})]})};n(88);var le=function(){var e=Object(s.c)((function(e){return e.token})),t=Object(i.g)();return Object(c.useEffect)((function(){e?t.push(u):t.push(l)}),[e]),Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(C,{}),Object(a.jsxs)(i.d,{children:[e?Object(a.jsx)(i.b,{exact:!0,path:u,component:te}):Object(a.jsx)(i.b,{path:l,component:re}),Object(a.jsx)(i.b,{path:l,component:re}),Object(a.jsx)(i.b,{path:p,component:ue}),Object(a.jsx)(i.a,{path:l})]})]})},pe=n(50),je=n(5),be=n(51),me=n(39),he=n(94),de=[],fe=Object(je.combineReducers)({contacts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return Object(me.a)(t.payload);case H:return[].concat(Object(me.a)(e),[Object(F.a)(Object(F.a)({},t.payload),{},{id:Object(he.a)()})]);case D:return e.filter((function(e){return e.id!==t.payload}));case v:return t.payload;default:return e}},filter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return t.payload;default:return e}},isAlert:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return!0;case R:return!1;default:return e}},loader:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return!0;case x:return!1;default:return e}},token:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return t.payload;case N:return null;default:return e}}}),Oe=n(38),xe=n(52),ve=n.n(xe),ge=n(53),_e=n.n(ge),ke=n(25),ye=[_e.a,ke.a],Ne={key:"token",storage:ve.a,whitelist:["token"]},we=je.applyMiddleware.apply(void 0,ye),Be=Object(be.composeWithDevTools)(we),Le=Object(Oe.a)(Ne,fe),Ce=Object(je.createStore)(Le,Be),Fe=Object(Oe.b)(Ce);n(91);o.a.render(Object(a.jsx)(s.a,{store:Ce,children:Object(a.jsx)(j.a,{children:Object(a.jsx)(pe.a,{loading:null,persistor:Fe,children:Object(a.jsx)(le,{})})})}),document.getElementById("root"))}},[[92,1,2]]]);
//# sourceMappingURL=main.216fb02a.chunk.js.map
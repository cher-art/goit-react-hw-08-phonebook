(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[0],{19:function(e,t,n){e.exports={mainHeader:"Header_mainHeader__1kt8t",mainNav:"Header_mainNav__3k66-",singIn:"Header_singIn__3VH76",home:"Header_home__11m1C",login:"Header_login__2Bvwa",registration:"Header_registration__3HT7t",logoutButton:"Header_logoutButton__11qXn"}},20:function(e,t,n){e.exports={contactForm:"Form_contactForm__2bm6X",mainLabel:"Form_mainLabel__zNmmp",mainInput:"Form_mainInput__2j580",formBtn:"Form_formBtn__2LnlG"}},35:function(e,t,n){e.exports={contactList:"ContactList_contactList__3vTYv",contactListErr:"ContactList_contactListErr__2J27E",contactBtn:"ContactList_contactBtn__2CPHz"}},36:function(e,t,n){e.exports={title:"Login_title__2Lkbe",loginForm:"Login_loginForm__-bXJI"}},37:function(e,t,n){e.exports={title:"Registration_title__3OsdX",registrationForm:"Registration_registrationForm__2FXEI"}},49:function(e,t,n){e.exports={mainInput:"Filter_mainInput__2srJO"}},85:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){},88:function(e,t,n){},91:function(e,t,n){},92:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(0),r=n(16),o=n.n(r),s=n(3),i=n(4),u="/ ",l="/login",p="/registration",j=n(13),b=n(9),m=n.n(b),h=n(18),d=n(15),f=n.n(d),O="loader/on",v="loader/off",x="contact/set",g=function(e){return{type:"error/set",payload:e}},_=function(){return{type:O}},y=function(){return{type:v}},k="token/set",N="token/reset",w=function(e){return{type:k,payload:e}},L=function(){return{type:N}};console.log(L());f()({url:"",method:"post",header:{"Content-type":"application/json"}});var B=n(19),C=n.n(B),I=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.token})),n=Object(i.g)();return Object(c.useEffect)((function(){t?n.push(u):n.push(l)}),[t]),Object(a.jsx)("header",{className:C.a.mainHeader,children:Object(a.jsxs)("nav",{className:C.a.mainNav,children:[Object(a.jsx)(j.b,{className:C.a.home,to:u,children:"Home"}),t&&Object(a.jsx)("button",{onClick:function(){e(function(e){return function(){var t=Object(h.a)(m.a.mark((function t(n){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(_()),t.next=4,f()({url:"https://goit-phonebook-api.herokuapp.com/users/logout",method:"post",headers:{Authorization:"Bearer ".concat(e)}});case 4:t.sent,n(L()),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n(g(t.t0));case 11:return t.prev=11,n(y()),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,8,11,14]])})));return function(e){return t.apply(this,arguments)}}()}(t))},className:C.a.logoutButton,children:"LOGOUT"}),Object(a.jsxs)("div",{className:C.a.singIn,children:[Object(a.jsx)(j.b,{className:C.a.registration,to:l,children:"Login"}),Object(a.jsx)(j.b,{className:C.a.login,to:p,children:"Registartion"})]})]})})},F=n(8),E=n(95),H=n(93),S="phoneBook/add",D="phoneBook/delete",J="phoneBook/setLocalStorage",T="filter/edit",A="alert/on",R="alert/off",X=function(e){return{type:D,payload:e}},q={header:{"Content-type":"application/json"}},z=n(17),P=n(21),G=n(20),U=n.n(G),M={name:"",number:""},V=function(){var e=Object(c.useState)(M),t=Object(P.a)(e,2),n=t[0],r=t[1],o=n.name,i=n.number,u=Object(s.c)((function(e){return e.contacts})),l=Object(s.b)(),p=function(e){var t=e.target;r(Object(F.a)(Object(F.a)({},n),{},Object(z.a)({},t.name,t.value)))};return Object(a.jsxs)("form",{className:U.a.contactForm,onSubmit:function(e){if(e.preventDefault(),o&&i){var t,n={name:o,number:i};u.some((function(e){return e.name===n.name}))?l({type:A}):(l((t=n,function(){var e=Object(h.a)(m.a.mark((function e(n){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(_()),e.next=4,f.a.post("https://goit-phonebook-api.herokuapp.com/contacts",t,q);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),n(g("\u041e\u0443\u0443\u0443\u0443\u0443, \u0449\u043e\u0441\u044c \u0441\u0442\u0430\u043b\u043e\u0441\u044c =D"));case 9:return e.prev=9,n(y()),e.finish(9);case 12:case"end":return e.stop()}}),e,null,[[0,6,9,12]])})));return function(t){return e.apply(this,arguments)}}())),l({type:S,payload:n}),r(M))}},children:[Object(a.jsxs)("label",{className:U.a.mainLabel,children:["Name",Object(a.jsx)("input",{className:U.a.mainInput,onChange:p,name:"name",value:o})]}),Object(a.jsxs)("label",{className:U.a.mainLabel,children:["Number",Object(a.jsx)("input",{className:U.a.mainInput,onChange:p,name:"number",value:i})]}),Object(a.jsx)("button",{className:U.a.formBtn,type:"submit",children:"Add contact"})]})},W=n(35),Y=n.n(W),K=(n(85),function(e){var t=e.name,n=e.number,c=e.id,r=Object(s.b)();return Object(a.jsxs)("li",{className:Y.a.contactList,children:[t,": ",n,Object(a.jsx)("button",{className:Y.a.contactBtn,onClick:function(){var e;r((e=c,function(){var t=Object(h.a)(m.a.mark((function t(n){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.delete("https://goit-phonebook-api.herokuapp.com/contacts/".concat(e));case 3:n(X(e)),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),n(g("\u041e\u0443\u0443\u0443\u0443\u0443, \u0449\u043e\u0441\u044c \u0441\u0442\u0430\u043b\u043e\u0441\u044c =D"));case 9:return t.prev=9,n(y()),t.finish(9);case 12:case"end":return t.stop()}}),t,null,[[0,6,9,12]])})));return function(e){return t.apply(this,arguments)}}())),r(X(c))},type:"button",children:"Delete"})]},c)}),Q=n(54),Z=Object(Q.a)("filter/edit"),$=n(49),ee=n.n($),te=(n(86),function(){var e=Object(s.c)((function(e){return e.filter})),t=Object(s.b)();return Object(a.jsx)("label",{children:Object(a.jsx)("input",{className:ee.a.mainInput,name:"filter",type:"text",onChange:function(e){e.preventDefault();var n=e.target.value;t(Z(n))},value:e})})}),ne=(n(87),function(){var e=Object(s.c)((function(e){return e.contacts})),t=Object(s.c)((function(e){return e.filter})),n=Object(s.c)((function(e){return e.isAlert})),r=Object(s.b)();Object(c.useEffect)((function(){r(function(){var e=Object(h.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(_()),e.next=4,f.a.get("https://goit-phonebook-api.herokuapp.com/contacts");case 4:n=e.sent,console.dir(n),t((a=n.data,{type:x,payload:a})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t(g("\u041e\u0443\u0443\u0443\u0443\u0443, \u0449\u043e\u0441\u044c \u0441\u0442\u0430\u043b\u043e\u0441\u044c =D"));case 12:return e.prev=12,t(y()),e.finish(12);case 15:case"end":return e.stop()}var a}),e,null,[[0,9,12,15]])})));return function(t){return e.apply(this,arguments)}}());var e=localStorage.getItem("contacts"),t=JSON.parse(e);e&&r({type:J,payload:t})}),[r]),Object(c.useEffect)((function(){localStorage.setItem("contacts",JSON.stringify(e))}),[e]);var o=function(){var n=e.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}));return n.length>=1?n:e};return Object(a.jsxs)("div",{className:"phoneBook",children:[Object(a.jsx)(E.a,{className:"alertBox",component:"div",children:n?Object(a.jsx)(H.a,{classNames:"alert__Box",mountOnEnter:!0,unmountOnExit:!0,timeout:800,children:Object(a.jsxs)("div",{className:"alert__Box",children:[Object(a.jsx)("h2",{children:"A contact with the same name already exists!"}),Object(a.jsx)("button",{onClick:function(){r({type:R})},className:"alertButton",children:"ok"})]})}):null}),Object(a.jsx)(H.a,{in:!0,appear:!0,timeout:500,classNames:"logo",unmountOnExit:!0,children:Object(a.jsx)("h1",{className:"title",children:"PhoneBook"})}),Object(a.jsx)(H.a,{in:!0,appear:!0,timeout:500,classNames:"form",unmountOnExit:!0,children:Object(a.jsx)(V,{})}),Object(a.jsx)(H.a,{in:o().length>=1,timeout:250,classNames:"contactTitle",unmountOnExit:!0,children:Object(a.jsx)("h2",{className:"findTitle",children:"Find contacts"})}),Object(a.jsx)(H.a,{in:o().length>=1,timeout:250,classNames:"contactTitle",unmountOnExit:!0,children:Object(a.jsx)(te,{})}),Object(a.jsx)(E.a,{component:"ul",className:"list",children:o().map((function(e){return Object(a.jsx)(H.a,{classNames:"list__item",timeout:800,children:Object(a.jsx)(K,Object(F.a)({},e))})}))})]})}),ae=function(){return Object(a.jsx)("div",{children:Object(a.jsx)(ne,{})})},ce=n(36),re=n.n(ce),oe={email:"",password:""},se=function(){var e=Object(c.useState)(oe),t=Object(P.a)(e,2),n=t[0],r=t[1],o=Object(s.b)(),i=function(e){var t=e.target,n=t.name,a=t.value;r((function(e){return Object(F.a)(Object(F.a)({},e),{},Object(z.a)({},n,a))}))};return Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{className:re.a.title,children:"Login"}),Object(a.jsxs)("form",{className:re.a.loginForm,onSubmit:function(e){var t;e.preventDefault(),o((t=n,function(){var e=Object(h.a)(m.a.mark((function e(n){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(_()),e.next=4,f.a.post("https://goit-phonebook-api.herokuapp.com/users/login",t);case 4:a=e.sent,console.log(a),n(w(a.data.token)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),n(g("bad request!"));case 12:return e.prev=12,n(y()),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(a.jsx)("input",{onChange:i,type:"email",name:"email",placeholder:"email"}),Object(a.jsx)("input",{onChange:i,type:"password",name:"password",placeholder:"password"}),Object(a.jsx)("button",{type:"submit",children:"Login"}),Object(a.jsxs)("p",{children:["If you already have an account please"," ",Object(a.jsx)(j.b,{to:p,children:"Registered"})]})]})]})},ie=n(37),ue=n.n(ie),le={name:"",email:"",password:""},pe=function(){var e=Object(c.useState)(le),t=Object(P.a)(e,2),n=t[0],r=t[1],o=Object(s.b)(),i=function(e){var t=e.target,n=t.name,a=t.value;r((function(e){return Object(F.a)(Object(F.a)({},e),{},Object(z.a)({},n,a))}))};return Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{className:ue.a.title,children:"Registration"}),Object(a.jsxs)("form",{className:ue.a.registrationForm,onSubmit:function(e){var t;e.preventDefault(),o((t=n,function(){var e=Object(h.a)(m.a.mark((function e(n){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(_()),e.next=4,f.a.post("https://goit-phonebook-api.herokuapp.com/users/signup",t);case 4:a=e.sent,console.log(a),n(w(a.data.token)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),n(g("bad request!"));case 12:return e.prev=12,n(y()),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(a.jsx)("input",{onChange:i,type:"text",name:"name",placeholder:"username",value:n.name}),Object(a.jsx)("input",{onChange:i,type:"text",name:"email",placeholder:"email",value:n.email}),Object(a.jsx)("input",{onChange:i,type:"password",name:"password",placeholder:"password",value:n.password}),Object(a.jsx)("button",{type:"submit",children:"Sing UP"}),Object(a.jsxs)("p",{children:["If you already have an account please",Object(a.jsx)(j.b,{to:l,children:"login"})]})]})]})};n(88);var je=function(){var e=Object(s.c)((function(e){return e.token})),t=Object(i.g)();return Object(c.useEffect)((function(){e?t.push(u):t.push(l)}),[e]),Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(I,{}),Object(a.jsxs)(i.d,{children:[e?Object(a.jsx)(i.b,{exact:!0,path:u,component:ae}):Object(a.jsx)(i.b,{path:l,component:se}),Object(a.jsx)(i.b,{path:l,component:se}),Object(a.jsx)(i.b,{path:p,component:pe}),Object(a.jsx)(i.a,{path:l})]})]})},be=n(50),me=n(5),he=n(51),de=n(39),fe=n(94),Oe=[],ve=Object(me.combineReducers)({contacts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J:return Object(de.a)(t.payload);case S:return[].concat(Object(de.a)(e),[Object(F.a)(Object(F.a)({},t.payload),{},{id:Object(fe.a)()})]);case D:return e.filter((function(e){return e.id!==t.payload}));case x:return t.payload;default:return e}},filter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return t.payload;default:return e}},isAlert:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return!0;case R:return!1;default:return e}},loader:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return!0;case v:return!1;default:return e}},token:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return t.payload;case N:return null;default:return e}}}),xe=n(38),ge=n(52),_e=n.n(ge),ye=n(53),ke=n.n(ye),Ne=n(25),we=[ke.a,Ne.a],Le={key:"token",storage:_e.a,whitelist:["token"]},Be=me.applyMiddleware.apply(void 0,we),Ce=Object(he.composeWithDevTools)(Be),Ie=Object(xe.a)(Le,ve),Fe=Object(me.createStore)(Ie,Ce),Ee=Object(xe.b)(Fe);n(91);o.a.render(Object(a.jsx)(s.a,{store:Fe,children:Object(a.jsx)(j.a,{children:Object(a.jsx)(be.a,{loading:null,persistor:Ee,children:Object(a.jsx)(je,{})})})}),document.getElementById("root"))}},[[92,1,2]]]);
//# sourceMappingURL=main.459ac55e.chunk.js.map